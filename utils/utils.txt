docker run -d -p 80:80 -v C:/Sistema:/usr/share/nginx/html front
# genera el contenedor
docker run -p 8000:80 -d front
# genera la imagen
docker build -t front .
# para revisar el directorio
docker container exec -it 051b bash


# backup postgres bat desde docker
@echo off
set PGPASSWORD=tu_contraseña
set FECHA=%DATE:~6,4%-%DATE:~3,2%-%DATE:~0,2%_%TIME:~0,2%-%TIME:~3,2%
set BACKUP_FILE=C:\ruta_de_guardado\backup_%FECHA%.sql
docker exec nombre_del_contenedor pg_dump -U tu_usuario -F p -b -v -f "/var/lib/postgresql/data/backup.sql" nombre_de_la_base_de_datos
docker cp nombre_del_contenedor:/var/lib/postgresql/data/backup.sql "%BACKUP_FILE%"
docker exec nombre_del_contenedor rm /var/lib/postgresql/data/backup.sql

# restore backup desde docker 
@echo off
set PGPASSWORD=tu_contraseña
docker cp ruta_del_backup.sql nombre_del_contenedor:/var/lib/postgresql/data/backup.sql
docker exec nombre_del_contenedor pg_restore -U tu_usuario -d nombre_de_la_base_de_datos -v "/var/lib/postgresql/data/backup.sql"
docker exec nombre_del_contenedor rm /var/lib/postgresql/data/backup.sql

# backup desde SO
#SQL
pg_dump -U postgres -d mi_base_datos -f C:\backup\backup.sql
# bat
@echo off
set PGPASSWORD=contraseña_postgres

pg_dump -U nombre_usuario -d nombre_base_datos -f "C:\ruta\archivo.sql"

#CUSTOM
pg_dump -U postgres -d mi_base_datos -Fc -f C:\backup\backup.dump
# bat
@echo off
set PGPASSWORD=contraseña_postgres

pg_dump -U nombre_usuario -d nombre_base_datos -Fc -f "C:\ruta\archivo.dump"


#restore
#SQL
# iniciar sesion
psql -U nombre_usuario -d nombre_base_datos
psql -U postgres -d mi_base_datos -f C:\backup\backup.sql
# bat
@echo off
set PGPASSWORD=contraseña_postgres

psql -U nombre_usuario -d nombre_base_datos -f "C:\ruta\archivo.sql"

#CUSTOM
# iniciar sesion
psql -U nombre_usuario -d nombre_base_datos
pg_restore -U postgres -d mi_base_datos -Fc C:\backup\backup.dump
# bat
@echo off
set PGPASSWORD=contraseña_postgres

pg_restore -U nombre_usuario -d nombre_base_datos "C:\ruta\archivo.dump"

# RESPALDO SQL PARA QUE COMPRIMA
@echo off
set PGPASSWORD=contraseña_postgres

REM Generar nombre de archivo con fecha y hora
for /f "tokens=1-3 delims=/ " %%a in ('date /t') do (
    set "fecha=%%c_%%b_%%a"
)
for /f "tokens=1-2 delims=: " %%a in ('time /t') do (
    set "hora=%%a_%%b"
)

REM Ejecutar respaldo en formato SQL
pg_dump -U nombre_usuario -d nombre_base_datos -f "C:\ruta\archivo.sql"

REM Comprimir el archivo de respaldo en formato .rar
"C:\ruta\7z.exe" a -t rar "C:\ruta\backup_%fecha%_%hora%.rar" "C:\ruta\archivo.sql"

REM Eliminar el archivo de respaldo sin comprimir
del "C:\ruta\archivo.sql"














